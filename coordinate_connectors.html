<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Coordinate Connectors</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Inter', sans-serif;
        }
        .guide-section {
            border-left: 4px solid #3b82f6; /* blue-500 */
        }
        .trap-section {
            border-left: 4px solid #ef4444; /* red-500 */
            background-color: #fef2f2; /* red-50 */
        }
        .quiz-option.selected {
            background-color: #dbeafe; /* blue-100 */
            border-color: #3b82f6; /* blue-500 */
        }
        .quiz-option.correct {
            background-color: #dcfce7; /* green-100 */
            border-color: #22c55e; /* green-500 */
        }
        .quiz-option.incorrect {
            background-color: #fee2e2; /* red-100 */
            border-color: #ef4444; /* red-500 */
        }
        .quiz-option.disabled {
            cursor: not-allowed;
            opacity: 0.7;
        }
    </style>
</head>
<body class="bg-gray-50 text-gray-800">

    <div class="container mx-auto p-4 sm:p-6 md:p-8 max-w-4xl">

        <header class="text-center mb-10">
            <h1 class="text-4xl font-bold text-blue-600 mb-2">Coordinate Connectors</h1>
            <p class="text-lg text-gray-600">AND, BUT, OR, & SO</p>
        </header>

        <main>
            <!-- Section 1: The Basics of Connecting Clauses -->
            <section class="mb-12">
                <h2 class="text-3xl font-bold mb-4 text-gray-800 border-b-2 pb-2 border-blue-200">The Concept: Connecting Clauses</h2>
                <div class="bg-white p-6 rounded-lg shadow-md guide-section">
                    <p class="mb-4 text-lg">For the TOEFL, one of the most important uses of <code class="bg-blue-100 text-blue-800 px-2 py-1 rounded">and</code>, <code class="bg-blue-100 text-blue-800 px-2 py-1 rounded">but</code>, <code class="bg-blue-100 text-blue-800 px-2 py-1 rounded">or</code>, and <code class="bg-blue-100 text-blue-800 px-2 py-1 rounded">so</code> is to connect two <strong>independent clauses</strong>. An independent clause is a complete thought that can stand alone as a sentence.</p>
                    <div class="bg-gray-100 p-4 rounded-md mt-4">
                        <h3 class="font-semibold text-xl text-blue-700 mb-2">The Rule</h3>
                        <p>When you connect two independent clauses, you <strong>MUST</strong> use a comma before the connector.</p>
                        <p class="mt-2 text-center text-lg font-mono bg-white p-3 rounded-lg shadow-inner">Independent Clause 1 <span class="text-blue-600 font-bold">,</span> + connector + Independent Clause 2.</p>
                    </div>
                </div>
            </section>

            <!-- Section 2: Meet the Connectors -->
            <section class="mb-12">
                <h2 class="text-3xl font-bold mb-4 text-gray-800 border-b-2 pb-2 border-blue-200">The Connectors</h2>
                <div class="grid md:grid-cols-2 gap-6">
                    <!-- AND -->
                    <div class="bg-white p-6 rounded-lg shadow-md">
                        <h3 class="text-2xl font-bold text-green-600 mb-2">AND (Addition)</h3>
                        <p>Use <code class="bg-green-100 text-green-800 px-2 py-1 rounded">and</code> to add a similar, related, or sequential idea.</p>
                        <p class="mt-3 bg-gray-50 p-3 rounded-md border-l-4 border-green-400">The university expanded its library<span class="font-bold text-green-600">, and</span> it added a new computer lab.</p>
                    </div>
                    <!-- BUT -->
                    <div class="bg-white p-6 rounded-lg shadow-md">
                        <h3 class="text-2xl font-bold text-red-600 mb-2">BUT (Contrast)</h3>
                        <p>Use <code class="bg-red-100 text-red-800 px-2 py-1 rounded">but</code> to show an opposite or contrasting idea.</p>
                        <p class="mt-3 bg-gray-50 p-3 rounded-md border-l-4 border-red-400">The research was well-funded<span class="font-bold text-red-600">, but</span> the results were inconclusive.</p>
                    </div>
                    <!-- OR -->
                    <div class="bg-white p-6 rounded-lg shadow-md">
                        <h3 class="text-2xl font-bold text-yellow-600 mb-2">OR (Choice)</h3>
                        <p>Use <code class="bg-yellow-100 text-yellow-800 px-2 py-1 rounded">or</code> to present an alternative or a choice.</p>
                        <p class="mt-3 bg-gray-50 p-3 rounded-md border-l-4 border-yellow-400">You can submit the form online<span class="font-bold text-yellow-600">, or</span> you can mail it.</p>
                    </div>
                    <!-- SO -->
                    <div class="bg-white p-6 rounded-lg shadow-md">
                        <h3 class="text-2xl font-bold text-purple-600 mb-2">SO (Result)</h3>
                        <p>Use <code class="bg-purple-100 text-purple-800 px-2 py-1 rounded">so</code> to show that the second clause is a result of the first.</p>
                        <p class="mt-3 bg-gray-50 p-3 rounded-md border-l-4 border-purple-400">The traffic was heavy<span class="font-bold text-purple-600">, so</span> I was late for my appointment.</p>
                    </div>
                </div>
            </section>

            <!-- Section 3: TOEFL Traps -->
            <section class="mb-12">
                <h2 class="text-3xl font-bold mb-4 text-red-600 border-b-2 pb-2 border-red-200">ðŸš¨ Common TOEFL Traps</h2>
                <div class="space-y-6">
                    <div class="p-6 rounded-lg trap-section">
                        <h3 class="text-xl font-bold text-red-700 mb-2">Trap #1: Comma Errors</h3>
                        <p>The test will try to trick you with missing or misplaced commas. Remember the golden rule!</p>
                        <p class="mt-2 text-sm"><strong class="text-red-600">Incorrect:</strong> The project was complex <strong class="text-red-600">but</strong> the team finished it on time.</p>
                        <p class="mt-1 text-sm"><strong class="text-green-600">Correct:</strong> The project was complex<strong class="text-green-600">, but</strong> the team finished it on time.</p>
                    </div>
                    <div class="p-6 rounded-lg trap-section">
                        <h3 class="text-xl font-bold text-red-700 mb-2">Trap #2: Faulty Parallelism</h3>
                        <p>A clause cannot be connected to a simple phrase. Both sides must be independent clauses.</p>
                        <p class="mt-2 text-sm"><strong class="text-red-600">Incorrect:</strong> The students took the test<strong class="text-red-600">, and finding</strong> it very difficult.</p>
                        <p class="mt-1 text-sm"><strong class="text-green-600">Correct:</strong> The students took the test<strong class="text-green-600">, and</strong> they found it very difficult.</p>
                    </div>
                    <div class="p-6 rounded-lg trap-section">
                        <h3 class="text-xl font-bold text-red-700 mb-2">Trap #3: Illogical Connectors</h3>
                        <p>The grammar might be perfect, but the meaning is wrong. Always check for logical sense.</p>
                        <p class="mt-2 text-sm"><strong class="text-red-600">Incorrect:</strong> It was raining<strong class="text-red-600">, but</strong> I took an umbrella.</p>
                        <p class="mt-1 text-sm"><strong class="text-green-600">Correct:</strong> It was raining<strong class="text-green-600">, so</strong> I took an umbrella.</p>
                    </div>
                </div>
            </section>
            
            <!-- Section 4: Interactive Practice Quiz -->
            <section>
                <h2 class="text-3xl font-bold mb-6 text-gray-800 border-b-2 pb-2 border-blue-200">Practice Quiz âœ…</h2>
                <div id="quiz-container" class="bg-white p-6 rounded-lg shadow-lg min-h-[300px]">
                    <div id="quiz-header" class="flex justify-between items-center mb-4">
                        <h3 id="question-counter" class="text-lg font-semibold text-gray-700"></h3>
                        <h3 id="score-counter" class="text-lg font-semibold text-blue-600"></h3>
                    </div>
                    <div id="question-area">
                        <!-- Question will be injected here -->
                    </div>
                    <div id="explanation-area" class="mt-4">
                        <!-- Explanation will be injected here -->
                    </div>
                    <div id="results-area" class="hidden text-center">
                        <!-- Final results will be shown here -->
                    </div>
                </div>
                <div class="text-center mt-6">
                    <button id="action-btn" class="bg-blue-600 text-white font-bold py-3 px-8 rounded-lg hover:bg-blue-700 transition-colors duration-300 text-lg w-full sm:w-auto">Check Answer</button>
                </div>
            </section>

        </main>
    </div>

    <script>
        // --- QUIZ DATA ---
        const quizData = [
            {
                question: "The city has an excellent public transportation system, ______ many residents still prefer to drive their own cars.",
                options: ["so", "but", "and", "or"],
                answer: "but",
                explanation: "The first clause is positive, while the second presents an opposing idea. 'but' is the correct connector for this contrast."
            },
            {
                question: "The weather forecast predicted heavy rain, ______ the outdoor concert was moved inside.",
                options: ["so", "but", "for", "and"],
                answer: "so",
                explanation: "The concert being moved is a direct result of the rain forecast. 'so' correctly shows this cause-and-effect relationship."
            },
            {
                question: "We must finish the project by Friday, ______ we will miss the deadline.",
                options: ["and", "but", "or", "so"],
                answer: "or",
                explanation: "This sentence presents two alternatives: finish on time, or face the consequence of missing the deadline. 'or' is used for this choice."
            },
            {
                question: "The professor explained the theory clearly, ______ he provided several examples to help us understand.",
                options: ["or", "but", "so", "and"],
                answer: "and",
                explanation: "The second clause is an additional, related action that supports the first. 'and' is used to connect these two related, positive actions."
            },
            {
                question: "The new software has many powerful features, ______ quite difficult for beginners to learn.",
                options: ["so it is", "and it", "but it is", "or is it"],
                answer: "but it is",
                explanation: "But shows a contrast between a positive feature (powerful) and a negative one (difficult)."
            },
            {
                question: "The flight was canceled due to bad weather, ______ find an alternative route.",
                options: ["so we had to", "but we having to", "and had to we", "we had to so"],
                answer: "so we had to",
                explanation: "So shows the result. The flight cancellation (cause) resulted in needing an alternative route (effect)."
            },
            {
                question: "You can submit your report by the end of the day, ______ for an extension.",
                options: ["so can you ask", "or you can ask", "ask but you can", "and you asking"],
                answer: "or you can ask",
                explanation: "Or presents two alternatives: submit the report or ask for an extension."
            },
            {
                question: "The company launched a major marketing campaign, ______ increased by 20 percent.",
                options: ["but its sales", "the sales and","or sales increased","and it sales"],
                answer: "and its sales",
                explanation: "And adds a related result (increased sales) to the initial action (marketing campaign)."
            },
            {
                question: "She is an expert in her field, ______ lacks confidence in her presentations.",
                options: ["so she sometimes", "and she lacking", "but she sometimes", "or lacks"],
                answer: "but she sometimes",
                explanation: "But shows the contrast between being an expert and lacking confidence."
            },
            {
                question: "The museum is free for students, ______ you must show a valid student ID.",
                options: ["but you must show", "so you must", "and showing", "or must you"],
                answer: "but you must show",
                explanation: "But introduces a condition or requirement (showing ID) to get the benefit."
            }
        ];

        // --- STATE VARIABLES ---
        let currentQuestionIndex = 0;
        let score = 0;
        let answerChecked = false;

        // --- DOM ELEMENTS ---
        const quizContainer = document.getElementById('quiz-container');
        const questionCounter = document.getElementById('question-counter');
        const scoreCounter = document.getElementById('score-counter');
        const questionArea = document.getElementById('question-area');
        const explanationArea = document.getElementById('explanation-area');
        const resultsArea = document.getElementById('results-area');
        const actionBtn = document.getElementById('action-btn');

        // --- FUNCTIONS ---
        function showQuestion() {
            answerChecked = false;
            const q = quizData[currentQuestionIndex];
            
            // Clear previous content
            questionArea.innerHTML = '';
            explanationArea.innerHTML = '';
            explanationArea.className = 'mt-4';

            // Update counters
            questionCounter.textContent = `Question ${currentQuestionIndex + 1} of ${quizData.length}`;
            scoreCounter.textContent = `Score: ${score}`;

            // Create question elements
            let questionHTML = `<p class="text-lg font-medium mb-4">${q.question}</p>`;
            questionHTML += `<div class="space-y-3">`;
            q.options.forEach(option => {
                questionHTML += `
                    <div class="quiz-option border-2 border-gray-300 p-3 rounded-lg cursor-pointer hover:bg-gray-100 transition-colors">
                        <input type="radio" name="options" value="${option}" class="hidden">
                        <label class="w-full h-full block cursor-pointer">${option}</label>
                    </div>
                `;
            });
            questionHTML += `</div>`;
            questionArea.innerHTML = questionHTML;
            actionBtn.textContent = 'Check Answer';
            actionBtn.disabled = false;
        }

        function checkAnswer() {
            answerChecked = true;
            const selectedRadio = questionArea.querySelector('input[name="options"]:checked');
            
            if (!selectedRadio) {
                explanationArea.innerHTML = `<p class="text-red-600 font-semibold">Please select an answer.</p>`;
                answerChecked = false; // Allow user to try again
                return;
            }

            const userAnswer = selectedRadio.value;
            const correctAnswer = quizData[currentQuestionIndex].answer;
            const explanation = quizData[currentQuestionIndex].explanation;
            const optionsDivs = questionArea.querySelectorAll('.quiz-option');

            optionsDivs.forEach(div => {
                div.classList.add('disabled');
                const radio = div.querySelector('input');
                if (radio.value === correctAnswer) {
                    div.classList.add('correct');
                }
            });

            if (userAnswer === correctAnswer) {
                score++;
                scoreCounter.textContent = `Score: ${score}`;
                explanationArea.innerHTML = `<strong class="text-green-700">Correct!</strong> ${explanation}`;
                explanationArea.className = 'mt-3 text-sm p-3 rounded-md bg-green-50 border border-green-200';
            } else {
                selectedRadio.parentElement.classList.add('incorrect');
                explanationArea.innerHTML = `<strong class="text-red-700">Incorrect.</strong> ${explanation}`;
                explanationArea.className = 'mt-3 text-sm p-3 rounded-md bg-red-50 border border-red-200';
            }

            if (currentQuestionIndex < quizData.length - 1) {
                actionBtn.textContent = 'Next Question';
            } else {
                actionBtn.textContent = 'Show Results';
            }
        }

        function showResults() {
            questionArea.classList.add('hidden');
            explanationArea.classList.add('hidden');
            actionBtn.textContent = 'Restart Quiz';

            let percentage = Math.round((score / quizData.length) * 100);
            let resultMessage = '';
            if (percentage === 100) {
                resultMessage = 'Excellent work!';
            } else if (percentage >= 80) {
                resultMessage = 'Great job!';
            } else if (percentage >= 60) {
                resultMessage = 'Good effort. Review the traps section again.';
            } else {
                resultMessage = 'Keep practicing! You can do it.';
            }

            resultsArea.innerHTML = `
                <h3 class="text-3xl font-bold text-blue-700 mb-2">Quiz Complete</h3>
                <p class="text-xl mb-4">You scored ${score} out of ${quizData.length} (${percentage}%)</p>
                <p class="text-lg text-gray-600">${resultMessage}</p>
            `;
            resultsArea.classList.remove('hidden');
        }

        // --- EVENT LISTENERS ---
        questionArea.addEventListener('click', (e) => {
            if (answerChecked) return; // Don't allow changing answer after checking
            if (e.target.closest('.quiz-option')) {
                const optionDiv = e.target.closest('.quiz-option');
                const radio = optionDiv.querySelector('input[type="radio"]');
                radio.checked = true;

                // Visual selection feedback
                questionArea.querySelectorAll('.quiz-option').forEach(el => el.classList.remove('selected'));
                optionDiv.classList.add('selected');
            }
        });

        actionBtn.addEventListener('click', () => {
            if (actionBtn.textContent === 'Restart Quiz') {
                currentQuestionIndex = 0;
                score = 0;
                resultsArea.classList.add('hidden');
                questionArea.classList.remove('hidden');
                explanationArea.classList.remove('hidden');
                showQuestion();
                return;
            }

            if (!answerChecked) {
                checkAnswer();
            } else {
                currentQuestionIndex++;
                if (currentQuestionIndex < quizData.length) {
                    showQuestion();
                } else {
                    showResults();
                }
            }
        });

        // --- INITIALIZE ---
        showQuestion();

    </script>
</body>
</html>
